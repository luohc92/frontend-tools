import{ai as D,H as ve,I as ue,ao as Ie,ar as me,d as M,bi as we,bj as Ne,bk as Te,aP as Ee,W as ge,bl as Oe,r as I,bm as Re,aR as Ae,X as g,av as de,n as ze,$ as be,o as y,a0 as K,g as c,w as m,a as d,a1 as _,u as e,a2 as pe,ac as Be,am as C,a4 as A,al as Pe,c as $,a6 as ae,bn as Ve,bo as De,bp as Me,bq as xe,as as He,br as Fe,bs as Ye,a7 as Se,aN as Xe,aO as je,a8 as Y,an as Ue,bt as We,ae as _e,bu as ie,aV as H,bv as F,bw as Ke,ah as he,T as Ze,R as qe,aa as Le,t as fe,aj as Ge,K as Je,bx as Qe,by as ye,bz as ce,J as P,at as et,aH as tt,h as $e,e as st,bA as at,bB as ot,a$ as ke,bC as nt,a3 as lt,bD as rt,bE as it,bF as ct,_ as ut}from"./index-5914f90c.js";import{g as dt}from"./scroll-316263fe.js";const pt=(l,u)=>{if(!D||!l||!u)return!1;const r=l.getBoundingClientRect();let o;return u instanceof Element?o=u.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<o.bottom&&r.bottom>o.top&&r.right>o.left&&r.left<o.right},ft=()=>D&&/firefox/i.test(window.navigator.userAgent),vt=ve({urlList:{type:ue(Array),default:()=>Ie([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),mt={close:()=>!0,switch:l=>me(l)},gt=["src"],bt=M({name:"ElImageViewer"}),_t=M({...bt,props:vt,emits:mt,setup(l,{expose:u,emit:r}){const o=l,S={CONTAIN:{name:"contain",icon:we(Ne)},ORIGINAL:{name:"original",icon:we(Te)}},b=ft()?"DOMMouseScroll":"mousewheel",{t:N}=Ee(),i=ge("image-viewer"),{nextZIndex:T}=Oe(),h=I(),k=I([]),L=Re(),w=I(!0),f=I(o.initialIndex),B=Ae(S.CONTAIN),v=I({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),a=g(()=>{const{urlList:t}=o;return t.length<=1}),X=g(()=>f.value===0),Z=g(()=>f.value===o.urlList.length-1),j=g(()=>o.urlList[f.value]),ne=g(()=>{const{scale:t,deg:n,offsetX:p,offsetY:E,enableTransition:O}=v.value;let z=p/t,R=E/t;switch(n%360){case 90:case-270:[z,R]=[R,-z];break;case 180:case-180:[z,R]=[-z,-R];break;case 270:case-90:[z,R]=[-R,z];break}const x={transform:`scale(${t}) rotate(${n}deg) translate(${z}px, ${R}px)`,transition:O?"transform .3s":""};return B.value.name===S.CONTAIN.name&&(x.maxWidth=x.maxHeight="100%"),x}),q=g(()=>me(o.zIndex)?o.zIndex:T());function V(){re(),r("close")}function le(){const t=ie(p=>{switch(p.code){case H.esc:o.closeOnPressEscape&&V();break;case H.space:ee();break;case H.left:te();break;case H.up:s("zoomIn");break;case H.right:se();break;case H.down:s("zoomOut");break}}),n=ie(p=>{(p.wheelDelta?p.wheelDelta:-p.detail)>0?s("zoomIn",{zoomRate:o.zoomRate,enableTransition:!1}):s("zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});L.run(()=>{F(document,"keydown",t),F(document,b,n)})}function re(){L.stop()}function G(){w.value=!1}function J(t){w.value=!1,t.target.alt=N("el.image.error")}function Q(t){if(w.value||t.button!==0||!h.value)return;v.value.enableTransition=!1;const{offsetX:n,offsetY:p}=v.value,E=t.pageX,O=t.pageY,z=ie(x=>{v.value={...v.value,offsetX:n+x.pageX-E,offsetY:p+x.pageY-O}}),R=F(document,"mousemove",z);F(document,"mouseup",()=>{R()}),t.preventDefault()}function U(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(w.value)return;const t=Ke(S),n=Object.values(S),p=B.value.name,O=(n.findIndex(z=>z.name===p)+1)%t.length;B.value=S[t[O]],U()}function W(t){const n=o.urlList.length;f.value=(t+n)%n}function te(){X.value&&!o.infinite||W(f.value-1)}function se(){Z.value&&!o.infinite||W(f.value+1)}function s(t,n={}){if(w.value)return;const{zoomRate:p,rotateDeg:E,enableTransition:O}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...n};switch(t){case"zoomOut":v.value.scale>.2&&(v.value.scale=Number.parseFloat((v.value.scale/p).toFixed(3)));break;case"zoomIn":v.value.scale<7&&(v.value.scale=Number.parseFloat((v.value.scale*p).toFixed(3)));break;case"clockwise":v.value.deg+=E;break;case"anticlockwise":v.value.deg-=E;break}v.value.enableTransition=O}return de(j,()=>{ze(()=>{const t=k.value[0];t!=null&&t.complete||(w.value=!0)})}),de(f,t=>{U(),r("switch",t)}),be(()=>{var t,n;le(),(n=(t=h.value)==null?void 0:t.focus)==null||n.call(t)}),u({setActiveItem:W}),(t,n)=>(y(),K(We,{to:"body",disabled:!t.teleported},[c(Ue,{name:"viewer-fade",appear:""},{default:m(()=>[d("div",{ref_key:"wrapper",ref:h,tabindex:-1,class:_(e(i).e("wrapper")),style:pe({zIndex:e(q)})},[d("div",{class:_(e(i).e("mask")),onClick:n[0]||(n[0]=Be(p=>t.hideOnClickModal&&V(),["self"]))},null,2),C(" CLOSE "),d("span",{class:_([e(i).e("btn"),e(i).e("close")]),onClick:V},[c(e(A),null,{default:m(()=>[c(e(Pe))]),_:1})],2),C(" ARROW "),e(a)?C("v-if",!0):(y(),$(ae,{key:0},[d("span",{class:_([e(i).e("btn"),e(i).e("prev"),e(i).is("disabled",!t.infinite&&e(X))]),onClick:te},[c(e(A),null,{default:m(()=>[c(e(Ve))]),_:1})],2),d("span",{class:_([e(i).e("btn"),e(i).e("next"),e(i).is("disabled",!t.infinite&&e(Z))]),onClick:se},[c(e(A),null,{default:m(()=>[c(e(De))]),_:1})],2)],64)),C(" ACTIONS "),d("div",{class:_([e(i).e("btn"),e(i).e("actions")])},[d("div",{class:_(e(i).e("actions__inner"))},[c(e(A),{onClick:n[1]||(n[1]=p=>s("zoomOut"))},{default:m(()=>[c(e(Me))]),_:1}),c(e(A),{onClick:n[2]||(n[2]=p=>s("zoomIn"))},{default:m(()=>[c(e(xe))]),_:1}),d("i",{class:_(e(i).e("actions__divider"))},null,2),c(e(A),{onClick:ee},{default:m(()=>[(y(),K(He(e(B).icon)))]),_:1}),d("i",{class:_(e(i).e("actions__divider"))},null,2),c(e(A),{onClick:n[3]||(n[3]=p=>s("anticlockwise"))},{default:m(()=>[c(e(Fe))]),_:1}),c(e(A),{onClick:n[4]||(n[4]=p=>s("clockwise"))},{default:m(()=>[c(e(Ye))]),_:1})],2)],2),C(" CANVAS "),d("div",{class:_(e(i).e("canvas"))},[(y(!0),$(ae,null,Se(t.urlList,(p,E)=>Xe((y(),$("img",{ref_for:!0,ref:O=>k.value[E]=O,key:p,src:p,style:pe(e(ne)),class:_(e(i).e("img")),onLoad:G,onError:J,onMousedown:Q},null,46,gt)),[[je,E===f.value]])),128))],2),Y(t.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var ht=_e(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const wt=he(ht),yt=ve({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:ue([String,Object])},previewSrcList:{type:ue(Array),default:()=>Ie([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),kt={load:l=>l instanceof Event,error:l=>l instanceof Event,switch:l=>me(l),close:()=>!0,show:()=>!0},Ct=["src","loading"],It={key:0},Et=M({name:"ElImage",inheritAttrs:!1}),zt=M({...Et,props:yt,emits:kt,setup(l,{emit:u}){const r=l;let o="";const{t:S}=Ee(),b=ge("image"),N=Ze(),i=qe(),T=I(),h=I(!1),k=I(!0),L=I(!1),w=I(),f=I(),B=D&&"loading"in HTMLImageElement.prototype;let v,a;const X=g(()=>N.style),Z=g(()=>{const{fit:s}=r;return D&&s?{objectFit:s}:{}}),j=g(()=>{const{previewSrcList:s}=r;return Array.isArray(s)&&s.length>0}),ne=g(()=>{const{previewSrcList:s,initialIndex:t}=r;let n=t;return t>s.length-1&&(n=0),n}),q=g(()=>r.loading==="eager"?!1:!B&&r.loading==="lazy"||r.lazy),V=()=>{D&&(k.value=!0,h.value=!1,T.value=r.src)};function le(s){k.value=!1,h.value=!1,u("load",s)}function re(s){k.value=!1,h.value=!0,u("error",s)}function G(){pt(w.value,f.value)&&(V(),U())}const J=Qe(G,200);async function Q(){var s;if(!D)return;await ze();const{scrollContainer:t}=r;Ge(t)?f.value=t:Je(t)&&t!==""?f.value=(s=document.querySelector(t))!=null?s:void 0:w.value&&(f.value=dt(w.value)),f.value&&(v=F(f,"scroll",J),setTimeout(()=>G(),100))}function U(){!D||!f.value||!J||(v==null||v(),f.value=void 0)}function ee(s){if(s.ctrlKey){if(s.deltaY<0)return s.preventDefault(),!1;if(s.deltaY>0)return s.preventDefault(),!1}}function W(){j.value&&(a=F("wheel",ee,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",L.value=!0,u("show"))}function te(){a==null||a(),document.body.style.overflow=o,L.value=!1,u("close")}function se(s){u("switch",s)}return de(()=>r.src,()=>{q.value?(k.value=!0,h.value=!1,U(),Q()):V()}),be(()=>{q.value?Q():V()}),(s,t)=>(y(),$("div",{ref_key:"container",ref:w,class:_([e(b).b(),s.$attrs.class]),style:pe(e(X))},[T.value!==void 0&&!h.value?(y(),$("img",Le({key:0},e(i),{src:T.value,loading:s.loading,style:e(Z),class:[e(b).e("inner"),e(j)&&e(b).e("preview"),k.value&&e(b).is("loading")],onClick:W,onLoad:le,onError:re}),null,16,Ct)):C("v-if",!0),k.value||h.value?(y(),$("div",{key:1,class:_(e(b).e("wrapper"))},[k.value?Y(s.$slots,"placeholder",{key:0},()=>[d("div",{class:_(e(b).e("placeholder"))},null,2)]):h.value?Y(s.$slots,"error",{key:1},()=>[d("div",{class:_(e(b).e("error"))},fe(e(S)("el.image.error")),3)]):C("v-if",!0)],2)):C("v-if",!0),e(j)?(y(),$(ae,{key:2},[L.value?(y(),K(e(wt),{key:0,"z-index":s.zIndex,"initial-index":e(ne),infinite:s.infinite,"zoom-rate":s.zoomRate,"url-list":s.previewSrcList,"hide-on-click-modal":s.hideOnClickModal,teleported:s.previewTeleported,"close-on-press-escape":s.closeOnPressEscape,onClose:te,onSwitch:se},{default:m(()=>[s.$slots.viewer?(y(),$("div",It,[Y(s.$slots,"viewer")])):C("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):C("v-if",!0)],64)):C("v-if",!0)],6))}});var St=_e(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Lt=he(St),$t=ve({trigger:ye.trigger,placement:ce.placement,disabled:ye.disabled,visible:P.visible,transition:P.transition,popperOptions:ce.popperOptions,tabindex:ce.tabindex,content:P.content,popperStyle:P.popperStyle,popperClass:P.popperClass,enterable:{...P.enterable,default:!0},effect:{...P.effect,default:"light"},teleported:P.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Nt={"update:visible":l=>et(l),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Tt="onUpdate:visible",Ot=M({name:"ElPopover"}),Rt=M({...Ot,props:$t,emits:Nt,setup(l,{expose:u,emit:r}){const o=l,S=g(()=>o[Tt]),b=ge("popover"),N=I(),i=g(()=>{var a;return(a=e(N))==null?void 0:a.popperRef}),T=g(()=>[{width:tt(o.width)},o.popperStyle]),h=g(()=>[b.b(),o.popperClass,{[b.m("plain")]:!!o.content}]),k=g(()=>o.transition===`${b.namespace.value}-fade-in-linear`),L=()=>{var a;(a=N.value)==null||a.hide()},w=()=>{r("before-enter")},f=()=>{r("before-leave")},B=()=>{r("after-enter")},v=()=>{r("update:visible",!1),r("after-leave")};return u({popperRef:i,hide:L}),(a,X)=>(y(),K(e(st),Le({ref_key:"tooltipRef",ref:N},a.$attrs,{trigger:a.trigger,placement:a.placement,disabled:a.disabled,visible:a.visible,transition:a.transition,"popper-options":a.popperOptions,tabindex:a.tabindex,content:a.content,offset:a.offset,"show-after":a.showAfter,"hide-after":a.hideAfter,"auto-close":a.autoClose,"show-arrow":a.showArrow,"aria-label":a.title,effect:a.effect,enterable:a.enterable,"popper-class":e(h),"popper-style":e(T),teleported:a.teleported,persistent:a.persistent,"gpu-acceleration":e(k),"onUpdate:visible":e(S),onBeforeShow:w,onBeforeHide:f,onShow:B,onHide:v}),{content:m(()=>[a.title?(y(),$("div",{key:0,class:_(e(b).e("title")),role:"title"},fe(a.title),3)):C("v-if",!0),Y(a.$slots,"default",{},()=>[$e(fe(a.content),1)])]),default:m(()=>[a.$slots.reference?Y(a.$slots,"reference",{key:0}):C("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var At=_e(Rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Ce=(l,u)=>{const r=u.arg||u.value,o=r==null?void 0:r.popperRef;o&&(o.triggerRef=l)};var Bt={mounted(l,u){Ce(l,u)},updated(l,u){Ce(l,u)}};const Pt="popover",Vt=at(Bt,Pt),Dt=he(At,{directive:Vt});const Mt=ot({id:"message",state:()=>({messageCount:0}),actions:{getMessages(){setTimeout(()=>{this.messageCount=1},3e3)}}}),oe=l=>(it("data-v-64e62dbd"),l=l(),ct(),l),xt={class:"message-content"},Ht=oe(()=>d("div",{class:"message-header"},[d("div",{class:"title"},"消息中心")],-1)),Ft={class:"message-info"},Yt=oe(()=>d("div",{class:"message-tit"},"欢迎登录管理平台",-1)),Xt=oe(()=>d("div",{class:"message-des"},"请及时修改登录密码",-1)),jt={class:"message-dt"},Ut={class:"view-all"},Wt=oe(()=>d("span",null,"查看全部",-1)),Kt={class:"menu-btn"},Zt=M({__name:"message",setup(l){const u=Mt(),r=g(()=>u.messageCount);return be(()=>{u.getMessages()}),(o,S)=>{const b=Lt,N=ke("Clock"),i=A,T=lt,h=rt,k=ke("Bell"),L=nt,w=Dt;return y(),K(w,{width:320,trigger:"click",placement:"bottom-end","popper-class":"message-popper"},{reference:m(()=>[d("div",Kt,[c(L,{"is-dot":"",class:"item",hidden:e(r)<=0},{default:m(()=>[c(i,{size:22},{default:m(()=>[c(k)]),_:1})]),_:1},8,["hidden"])])]),default:m(()=>[d("div",xt,[Ht,c(T,{class:"message-list-box","max-height":"260px"},{default:m(()=>[(y(),$(ae,null,Se([1,2,3,4,5],f=>d("div",{class:"message-list-item",key:f},[c(b,{class:"img",src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}),d("div",Ft,[Yt,Xt,d("div",jt,[c(i,null,{default:m(()=>[c(N)]),_:1}),$e(" 2022-12-12 14:14 ")])])])),64))]),_:1}),d("div",Ut,[c(h,{icon:"go"}),Wt])])]),_:1})}}});const Jt=ut(Zt,[["__scopeId","data-v-64e62dbd"],["__file","C:/Users/luohc/Documents/work/frontend-tools-box/src/components/message.vue"]]);export{Jt as default};
