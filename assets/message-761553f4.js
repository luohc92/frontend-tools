import{am as M,H as ve,J as ue,N as Ie,G as me,d as V,bg as we,bh as $e,bi as Te,aT as ze,X as ge,bj as Oe,r as I,bk as Ae,Y as Re,R as g,a3 as de,n as Ee,a5 as be,o as y,ad as Z,f as c,w as m,a as d,ab as _,u as e,ak as pe,ai as Be,a9 as C,af as R,aA as Pe,c as N,aa as ae,bl as De,bm as Me,bn as Ve,bo as xe,ae as He,bp as Ye,bq as Xe,au as Se,a7 as Fe,a8 as Ue,ac as X,aB as je,br as We,al as _e,bs as ie,aX as H,bt as Y,bu as Ze,ao as he,P as qe,ag as Le,t as fe,az as Ge,O as Ke,bv as Je,bw as ye,bx as ce,ap as P,aD as Qe,aN as et,g as Ne,e as tt,by as st,bz as at,a_ as ke,bA as ot,as as nt,bB as lt,bC as rt,bD as it,_ as ct}from"./index-d9ed2ae6.js";import{u as ut,g as dt}from"./index-c7730d8c.js";const pt=(l,u)=>{if(!M||!l||!u)return!1;const r=l.getBoundingClientRect();let o;return u instanceof Element?o=u.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<o.bottom&&r.bottom>o.top&&r.right>o.left&&r.left<o.right},ft=()=>M&&/firefox/i.test(window.navigator.userAgent),vt=ve({urlList:{type:ue(Array),default:()=>Ie([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),mt={close:()=>!0,switch:l=>me(l)},gt=["src"],bt=V({name:"ElImageViewer"}),_t=V({...bt,props:vt,emits:mt,setup(l,{expose:u,emit:r}){const o=l,S={CONTAIN:{name:"contain",icon:we($e)},ORIGINAL:{name:"original",icon:we(Te)}},b=ft()?"DOMMouseScroll":"mousewheel",{t:$}=ze(),i=ge("image-viewer"),{nextZIndex:T}=Oe(),h=I(),k=I([]),L=Ae(),w=I(!0),f=I(o.initialIndex),B=Re(S.CONTAIN),v=I({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),a=g(()=>{const{urlList:t}=o;return t.length<=1}),F=g(()=>f.value===0),q=g(()=>f.value===o.urlList.length-1),U=g(()=>o.urlList[f.value]),ne=g(()=>{const{scale:t,deg:n,offsetX:p,offsetY:z,enableTransition:O}=v.value;let E=p/t,A=z/t;switch(n%360){case 90:case-270:[E,A]=[A,-E];break;case 180:case-180:[E,A]=[-E,-A];break;case 270:case-90:[E,A]=[-A,E];break}const x={transform:`scale(${t}) rotate(${n}deg) translate(${E}px, ${A}px)`,transition:O?"transform .3s":""};return B.value.name===S.CONTAIN.name&&(x.maxWidth=x.maxHeight="100%"),x}),G=g(()=>me(o.zIndex)?o.zIndex:T());function D(){re(),r("close")}function le(){const t=ie(p=>{switch(p.code){case H.esc:o.closeOnPressEscape&&D();break;case H.space:ee();break;case H.left:te();break;case H.up:s("zoomIn");break;case H.right:se();break;case H.down:s("zoomOut");break}}),n=ie(p=>{(p.wheelDelta?p.wheelDelta:-p.detail)>0?s("zoomIn",{zoomRate:o.zoomRate,enableTransition:!1}):s("zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});L.run(()=>{Y(document,"keydown",t),Y(document,b,n)})}function re(){L.stop()}function K(){w.value=!1}function J(t){w.value=!1,t.target.alt=$("el.image.error")}function Q(t){if(w.value||t.button!==0||!h.value)return;v.value.enableTransition=!1;const{offsetX:n,offsetY:p}=v.value,z=t.pageX,O=t.pageY,E=ie(x=>{v.value={...v.value,offsetX:n+x.pageX-z,offsetY:p+x.pageY-O}}),A=Y(document,"mousemove",E);Y(document,"mouseup",()=>{A()}),t.preventDefault()}function j(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(w.value)return;const t=Ze(S),n=Object.values(S),p=B.value.name,O=(n.findIndex(E=>E.name===p)+1)%t.length;B.value=S[t[O]],j()}function W(t){const n=o.urlList.length;f.value=(t+n)%n}function te(){F.value&&!o.infinite||W(f.value-1)}function se(){q.value&&!o.infinite||W(f.value+1)}function s(t,n={}){if(w.value)return;const{zoomRate:p,rotateDeg:z,enableTransition:O}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...n};switch(t){case"zoomOut":v.value.scale>.2&&(v.value.scale=Number.parseFloat((v.value.scale/p).toFixed(3)));break;case"zoomIn":v.value.scale<7&&(v.value.scale=Number.parseFloat((v.value.scale*p).toFixed(3)));break;case"clockwise":v.value.deg+=z;break;case"anticlockwise":v.value.deg-=z;break}v.value.enableTransition=O}return de(U,()=>{Ee(()=>{const t=k.value[0];t!=null&&t.complete||(w.value=!0)})}),de(f,t=>{j(),r("switch",t)}),be(()=>{var t,n;le(),(n=(t=h.value)==null?void 0:t.focus)==null||n.call(t)}),u({setActiveItem:W}),(t,n)=>(y(),Z(We,{to:"body",disabled:!t.teleported},[c(je,{name:"viewer-fade",appear:""},{default:m(()=>[d("div",{ref_key:"wrapper",ref:h,tabindex:-1,class:_(e(i).e("wrapper")),style:pe({zIndex:e(G)})},[d("div",{class:_(e(i).e("mask")),onClick:n[0]||(n[0]=Be(p=>t.hideOnClickModal&&D(),["self"]))},null,2),C(" CLOSE "),d("span",{class:_([e(i).e("btn"),e(i).e("close")]),onClick:D},[c(e(R),null,{default:m(()=>[c(e(Pe))]),_:1})],2),C(" ARROW "),e(a)?C("v-if",!0):(y(),N(ae,{key:0},[d("span",{class:_([e(i).e("btn"),e(i).e("prev"),e(i).is("disabled",!t.infinite&&e(F))]),onClick:te},[c(e(R),null,{default:m(()=>[c(e(De))]),_:1})],2),d("span",{class:_([e(i).e("btn"),e(i).e("next"),e(i).is("disabled",!t.infinite&&e(q))]),onClick:se},[c(e(R),null,{default:m(()=>[c(e(Me))]),_:1})],2)],64)),C(" ACTIONS "),d("div",{class:_([e(i).e("btn"),e(i).e("actions")])},[d("div",{class:_(e(i).e("actions__inner"))},[c(e(R),{onClick:n[1]||(n[1]=p=>s("zoomOut"))},{default:m(()=>[c(e(Ve))]),_:1}),c(e(R),{onClick:n[2]||(n[2]=p=>s("zoomIn"))},{default:m(()=>[c(e(xe))]),_:1}),d("i",{class:_(e(i).e("actions__divider"))},null,2),c(e(R),{onClick:ee},{default:m(()=>[(y(),Z(He(e(B).icon)))]),_:1}),d("i",{class:_(e(i).e("actions__divider"))},null,2),c(e(R),{onClick:n[3]||(n[3]=p=>s("anticlockwise"))},{default:m(()=>[c(e(Ye))]),_:1}),c(e(R),{onClick:n[4]||(n[4]=p=>s("clockwise"))},{default:m(()=>[c(e(Xe))]),_:1})],2)],2),C(" CANVAS "),d("div",{class:_(e(i).e("canvas"))},[(y(!0),N(ae,null,Se(t.urlList,(p,z)=>Fe((y(),N("img",{ref_for:!0,ref:O=>k.value[z]=O,key:p,src:p,style:pe(e(ne)),class:_(e(i).e("img")),onLoad:K,onError:J,onMousedown:Q},null,46,gt)),[[Ue,z===f.value]])),128))],2),X(t.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var ht=_e(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const wt=he(ht),yt=ve({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:ue([String,Object])},previewSrcList:{type:ue(Array),default:()=>Ie([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),kt={load:l=>l instanceof Event,error:l=>l instanceof Event,switch:l=>me(l),close:()=>!0,show:()=>!0},Ct=["src","loading"],It={key:0},zt=V({name:"ElImage",inheritAttrs:!1}),Et=V({...zt,props:yt,emits:kt,setup(l,{emit:u}){const r=l;let o="";const{t:S}=ze(),b=ge("image"),$=qe(),i=ut(),T=I(),h=I(!1),k=I(!0),L=I(!1),w=I(),f=I(),B=M&&"loading"in HTMLImageElement.prototype;let v,a;const F=g(()=>$.style),q=g(()=>{const{fit:s}=r;return M&&s?{objectFit:s}:{}}),U=g(()=>{const{previewSrcList:s}=r;return Array.isArray(s)&&s.length>0}),ne=g(()=>{const{previewSrcList:s,initialIndex:t}=r;let n=t;return t>s.length-1&&(n=0),n}),G=g(()=>r.loading==="eager"?!1:!B&&r.loading==="lazy"||r.lazy),D=()=>{M&&(k.value=!0,h.value=!1,T.value=r.src)};function le(s){k.value=!1,h.value=!1,u("load",s)}function re(s){k.value=!1,h.value=!0,u("error",s)}function K(){pt(w.value,f.value)&&(D(),j())}const J=Je(K,200);async function Q(){var s;if(!M)return;await Ee();const{scrollContainer:t}=r;Ge(t)?f.value=t:Ke(t)&&t!==""?f.value=(s=document.querySelector(t))!=null?s:void 0:w.value&&(f.value=dt(w.value)),f.value&&(v=Y(f,"scroll",J),setTimeout(()=>K(),100))}function j(){!M||!f.value||!J||(v==null||v(),f.value=void 0)}function ee(s){if(s.ctrlKey){if(s.deltaY<0)return s.preventDefault(),!1;if(s.deltaY>0)return s.preventDefault(),!1}}function W(){U.value&&(a=Y("wheel",ee,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",L.value=!0,u("show"))}function te(){a==null||a(),document.body.style.overflow=o,L.value=!1,u("close")}function se(s){u("switch",s)}return de(()=>r.src,()=>{G.value?(k.value=!0,h.value=!1,j(),Q()):D()}),be(()=>{G.value?Q():D()}),(s,t)=>(y(),N("div",{ref_key:"container",ref:w,class:_([e(b).b(),s.$attrs.class]),style:pe(e(F))},[T.value!==void 0&&!h.value?(y(),N("img",Le({key:0},e(i),{src:T.value,loading:s.loading,style:e(q),class:[e(b).e("inner"),e(U)&&e(b).e("preview"),k.value&&e(b).is("loading")],onClick:W,onLoad:le,onError:re}),null,16,Ct)):C("v-if",!0),k.value||h.value?(y(),N("div",{key:1,class:_(e(b).e("wrapper"))},[k.value?X(s.$slots,"placeholder",{key:0},()=>[d("div",{class:_(e(b).e("placeholder"))},null,2)]):h.value?X(s.$slots,"error",{key:1},()=>[d("div",{class:_(e(b).e("error"))},fe(e(S)("el.image.error")),3)]):C("v-if",!0)],2)):C("v-if",!0),e(U)?(y(),N(ae,{key:2},[L.value?(y(),Z(e(wt),{key:0,"z-index":s.zIndex,"initial-index":e(ne),infinite:s.infinite,"zoom-rate":s.zoomRate,"url-list":s.previewSrcList,"hide-on-click-modal":s.hideOnClickModal,teleported:s.previewTeleported,"close-on-press-escape":s.closeOnPressEscape,onClose:te,onSwitch:se},{default:m(()=>[s.$slots.viewer?(y(),N("div",It,[X(s.$slots,"viewer")])):C("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):C("v-if",!0)],64)):C("v-if",!0)],6))}});var St=_e(Et,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Lt=he(St),Nt=ve({trigger:ye.trigger,placement:ce.placement,disabled:ye.disabled,visible:P.visible,transition:P.transition,popperOptions:ce.popperOptions,tabindex:ce.tabindex,content:P.content,popperStyle:P.popperStyle,popperClass:P.popperClass,enterable:{...P.enterable,default:!0},effect:{...P.effect,default:"light"},teleported:P.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),$t={"update:visible":l=>Qe(l),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Tt="onUpdate:visible",Ot=V({name:"ElPopover"}),At=V({...Ot,props:Nt,emits:$t,setup(l,{expose:u,emit:r}){const o=l,S=g(()=>o[Tt]),b=ge("popover"),$=I(),i=g(()=>{var a;return(a=e($))==null?void 0:a.popperRef}),T=g(()=>[{width:et(o.width)},o.popperStyle]),h=g(()=>[b.b(),o.popperClass,{[b.m("plain")]:!!o.content}]),k=g(()=>o.transition===`${b.namespace.value}-fade-in-linear`),L=()=>{var a;(a=$.value)==null||a.hide()},w=()=>{r("before-enter")},f=()=>{r("before-leave")},B=()=>{r("after-enter")},v=()=>{r("update:visible",!1),r("after-leave")};return u({popperRef:i,hide:L}),(a,F)=>(y(),Z(e(tt),Le({ref_key:"tooltipRef",ref:$},a.$attrs,{trigger:a.trigger,placement:a.placement,disabled:a.disabled,visible:a.visible,transition:a.transition,"popper-options":a.popperOptions,tabindex:a.tabindex,content:a.content,offset:a.offset,"show-after":a.showAfter,"hide-after":a.hideAfter,"auto-close":a.autoClose,"show-arrow":a.showArrow,"aria-label":a.title,effect:a.effect,enterable:a.enterable,"popper-class":e(h),"popper-style":e(T),teleported:a.teleported,persistent:a.persistent,"gpu-acceleration":e(k),"onUpdate:visible":e(S),onBeforeShow:w,onBeforeHide:f,onShow:B,onHide:v}),{content:m(()=>[a.title?(y(),N("div",{key:0,class:_(e(b).e("title")),role:"title"},fe(a.title),3)):C("v-if",!0),X(a.$slots,"default",{},()=>[Ne(fe(a.content),1)])]),default:m(()=>[a.$slots.reference?X(a.$slots,"reference",{key:0}):C("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Rt=_e(At,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const Ce=(l,u)=>{const r=u.arg||u.value,o=r==null?void 0:r.popperRef;o&&(o.triggerRef=l)};var Bt={mounted(l,u){Ce(l,u)},updated(l,u){Ce(l,u)}};const Pt="popover",Dt=st(Bt,Pt),Mt=he(Rt,{directive:Dt});const Vt=at({id:"message",state:()=>({messageCount:0}),actions:{getMessages(){setTimeout(()=>{this.messageCount=1},3e3)}}}),oe=l=>(rt("data-v-64e62dbd"),l=l(),it(),l),xt={class:"message-content"},Ht=oe(()=>d("div",{class:"message-header"},[d("div",{class:"title"},"消息中心")],-1)),Yt={class:"message-info"},Xt=oe(()=>d("div",{class:"message-tit"},"欢迎登录管理平台",-1)),Ft=oe(()=>d("div",{class:"message-des"},"请及时修改登录密码",-1)),Ut={class:"message-dt"},jt={class:"view-all"},Wt=oe(()=>d("span",null,"查看全部",-1)),Zt={class:"menu-btn"},qt=V({__name:"message",setup(l){const u=Vt(),r=g(()=>u.messageCount);return be(()=>{u.getMessages()}),(o,S)=>{const b=Lt,$=ke("Clock"),i=R,T=nt,h=lt,k=ke("Bell"),L=ot,w=Mt;return y(),Z(w,{width:320,trigger:"click",placement:"bottom-end","popper-class":"message-popper"},{reference:m(()=>[d("div",Zt,[c(L,{"is-dot":"",class:"item",hidden:e(r)<=0},{default:m(()=>[c(i,{size:22},{default:m(()=>[c(k)]),_:1})]),_:1},8,["hidden"])])]),default:m(()=>[d("div",xt,[Ht,c(T,{class:"message-list-box","max-height":"260px"},{default:m(()=>[(y(),N(ae,null,Se([1,2,3,4,5],f=>d("div",{class:"message-list-item",key:f},[c(b,{class:"img",src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}),d("div",Yt,[Xt,Ft,d("div",Ut,[c(i,null,{default:m(()=>[c($)]),_:1}),Ne(" 2022-12-12 14:14 ")])])])),64))]),_:1}),d("div",jt,[c(h,{icon:"go"}),Wt])])]),_:1})}}});const Jt=ct(qt,[["__scopeId","data-v-64e62dbd"],["__file","C:/Users/luohc/Documents/work/frontend-tools-box/src/components/message.vue"]]);export{Jt as default};
